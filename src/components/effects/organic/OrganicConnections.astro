---
// SVG connections system for organic shapes
---

<!-- Organic connection lines (dynamically generated) -->
<svg
  class="connections"
  width="100%"
  height="100%"
  preserveAspectRatio="none"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink"
>
  <defs>
    <linearGradient id="lineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:var(--coral);stop-opacity:0.18"
      ></stop>
      <stop offset="50%" style="stop-color:var(--mocha);stop-opacity:0.18"
      ></stop>
      <stop offset="100%" style="stop-color:var(--blue);stop-opacity:0.18"
      ></stop>
    </linearGradient>
    <g id="dynamic-gradients"></g>
  </defs>
  <g class="links" aria-hidden="true"></g>
</svg>

<style>
  .connections {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.45; /* stronger visibility for bigger connections */
  }

  /* Style for generated links and pulses */
  .connections :global(.link-path) {
    vector-effect: non-scaling-stroke;
    stroke-linecap: round;
    filter: drop-shadow(
      0 0 8px color-mix(in oklab, var(--mocha), transparent 85%)
    );
    stroke-dasharray: 18 12;
    animation: line-flow 7s ease-in-out infinite;
  }

  .connections :global(.link-hot) {
    vector-effect: non-scaling-stroke;
    stroke-linecap: round;
    filter: drop-shadow(
      0 0 10px color-mix(in oklab, var(--coral), transparent 70%)
    );
    mix-blend-mode: screen;
    opacity: 0; /* hidden until animated */
  }

  .connections :global(.pulse) {
    fill: color-mix(in oklab, var(--coral), transparent 70%);
    opacity: 0.85;
  }

  .connections :global(.pulse > animateMotion + animate),
  .connections :global(.pulse > animate) {
    pointer-events: none;
  }

  @keyframes line-flow {
    0%,
    100% {
      stroke-dashoffset: 0;
      opacity: 0.3;
    }
    50% {
      stroke-dashoffset: -30;
      opacity: 0.5;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .connections {
      opacity: 0.22;
    }
    .connections :global(.link-path) {
      animation: none;
    }
    .connections :global(.pulse),
    .connections :global(.link-hot) {
      display: none;
    }
  }
</style>
