---
export interface Props {
    title: string;
    link: string;
    description?: string;
    technologies?: string[];
    index?: number;
}

const { title, link, description, technologies, index = 0 } = Astro.props;
---

<article class="card">
    <div class="card-header">
        <h3 class="card-title">{title}</h3>
        <a href={link} target="_blank" rel="noopener noreferrer" class="card-link">
            <span>â†’</span>
        </a>
    </div>
    
    {description && (
        <p class="card-description" set:html={description} />
    )}
    
    {technologies && technologies.length > 0 && (
        <div class="card-technologies">
            {technologies.map((tech) => (
                <span class="tech-tag">{tech}</span>
            ))}
        </div>
    )}
</article>

<style>
@layer components {
    .card {
        background: var(--glass-coral);
        backdrop-filter: blur(20px);
        border: 1px solid color-mix(in oklab, var(--coral), transparent 80%);
        border-radius: var(--radius-organic);
        box-shadow: var(--shadow-lg-warm);
        padding: var(--size-4);
        transition: transform var(--dur-med) var(--ease-organic),
                    box-shadow var(--dur-med) ease;
        will-change: transform, box-shadow;
        position: relative;
        overflow: hidden;
    }
    
    .card:hover {
        transform: translateY(-8px) rotate(.5deg);
        box-shadow: var(--shadow-hover);
    }
    
    .card-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: var(--size-3);
    }
    
    .card-title {
        font-size: var(--font-size-3);
        font-weight: var(--font-weight-6);
        color: var(--text-dark);
        margin: 0;
        line-height: var(--font-lineheight-1);
    }
    
    .card-link {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: var(--size-6);
        height: var(--size-6);
        background: color-mix(in oklab, var(--coral), transparent 70%);
        border-radius: 50%;
        color: var(--coral);
        font-size: var(--font-size-2);
        font-weight: var(--font-weight-6);
        transition: all var(--dur-med) var(--ease-organic);
        text-decoration: none;
    }
    
    .card-link:hover {
        background: var(--coral);
        color: var(--bg);
        transform: scale(1.1);
    }
    
    .card-description {
        color: var(--text-dark);
        line-height: var(--font-lineheight-3);
        margin-bottom: var(--size-3);
        opacity: 0.9;
    }
    
    .card-technologies {
        display: flex;
        flex-wrap: wrap;
        gap: var(--size-2);
    }
    
    .tech-tag {
        display: inline-block;
        padding: var(--size-1) var(--size-2);
        background: color-mix(in oklab, var(--mocha), transparent 80%);
        color: var(--mocha);
        border-radius: var(--radius-2);
        font-size: var(--font-size-0);
        font-weight: var(--font-weight-4);
        border: 1px solid color-mix(in oklab, var(--mocha), transparent 60%);
    }
    
    @media (prefers-reduced-motion: reduce) {
        .card, .card:hover, .card-link, .card-link:hover {
            transition: none;
            transform: none;
        }
    }
}
</style>